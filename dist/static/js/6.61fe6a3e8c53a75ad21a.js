webpackJsonp([6],{I1iz:function(t,e){},b8lP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("//Fk"),i=a.n(n),r=a("mvHQ"),o=a.n(r),s=a("Dd8w"),l=a.n(s),d=a("BO1k"),u=a.n(d),c=a("gNfH"),p=a("NYxO"),f={components:{TopToolBar:c.a},data:function(){var t=this,e=[10,20,30,40],a=[{name:"待审核",allTotal:0,total:0,auditStatus:"02",size:e[0],page:1,pageSizeArr:e,data:[],form:{},input:{orgName:{type:"input",data:"orgName",name:"机构名称",value:""},legalName:{type:"input",data:"realName",name:"被授权人姓名",value:""},phone:{type:"input",data:"phone",name:"手机号",value:""},state1:{type:"select",data:"orgInfoTypeId",name:"请选择机构类型",value:"1",default:"1",options:{1:"企业机构",2:"医疗机构"}},date:{data:"date",name:"提交时间",default:[],type:"date"},btns:{name:"按钮组",type:"btns",cells:[{name:"筛选",type:"filter"},{name:"重置",type:"reset"}]}},columns:[{type:"selection",width:60,align:"center"},{title:"机构名称",key:"orgName",render:function(e,a){return e("a",{on:{click:function(){t.linkData(a.row)}}},a.row.orgName)}},{title:"被授权人姓名",key:"realName"},{title:"手机号",key:"phone"},{title:"分配状态",render:function(t,e){return t("span","未分配")}},{title:"提交时间",key:"createTime",render:function(t,e){var a=e.row.createTime;return t("span",a=new Date(a).toLocaleDateString())}},{title:"操作",render:function(e,a){a.row.createTime;return e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.linkData(a.row,1)}}},"审核")}}]},{name:"审核通过",allTotal:0,total:0,auditStatus:"04",size:e[0],page:1,pageSizeArr:e,data:[],form:{},input:{orgName:{type:"input",data:"orgName",name:"机构名称",value:""},legalName:{type:"input",data:"realName",name:"被授权人姓名",value:""},phone:{type:"input",data:"phone",name:"手机号",value:""},state1:{type:"select",data:"orgInfoTypeId",name:"请选择机构类型",value:"1",default:"1",options:{1:"企业机构",2:"医疗机构"}},date:{data:"date",name:"审核时间",default:[],type:"date"},btns:{name:"按钮组",type:"btns",cells:[{name:"筛选",type:"filter"},{name:"重置",type:"reset"}]}},columns:[{type:"selection",width:60,align:"center"},{title:"机构名称",key:"orgName",render:function(e,a){return e("a",{on:{click:function(){t.linkData(a.row)}}},a.row.orgName)}},{title:"被授权人姓名",key:"realName"},{title:"手机号",key:"phone"},{title:"审核时间",key:"modifyTime",render:function(t,e){var a=e.row.modifyTime;return t("span",a=new Date(a).toLocaleDateString())}},{title:"审核状态",key:"auditStatus",render:function(t,e){var a=t("Tooltip",{props:{content:e.row.auditCause}},"不通过"),n=t("span","通过");return"04"===e.row.auditStatus?n:a}}]},{name:"审核不通过",allTotal:0,total:0,auditStatus:"05",size:e[0],page:1,pageSizeArr:e,data:[],form:{},input:{orgName:{type:"input",data:"orgName",name:"机构名称",value:""},legalName:{type:"input",data:"realName",name:"被授权人姓名",value:""},phone:{type:"input",data:"phone",name:"手机号",value:""},state1:{type:"select",data:"orgInfoTypeId",name:"请选择机构类型",value:"1",default:"1",options:{1:"企业机构",2:"医疗机构"}},date:{data:"date",name:"审核时间",default:[],type:"date"},btns:{name:"按钮组",type:"btns",cells:[{name:"筛选",type:"filter"},{name:"重置",type:"reset"}]}},columns:[{type:"selection",width:60,align:"center"},{title:"机构名称",key:"orgName",render:function(e,a){return e("a",{on:{click:function(){t.linkData(a.row)}}},a.row.orgName)}},{title:"被授权人姓名",key:"realName"},{title:"手机号",key:"phone"},{title:"审核时间",key:"modifyTime",render:function(t,e){var a=e.row.modifyTime;return t("span",a=new Date(a).toLocaleDateString())}},{title:"审核状态",key:"auditStatus",render:function(t,e){var a=t("Tooltip",{props:{content:e.row.auditCause}},"不通过"),n=t("span","通过");return"04"===e.row.auditStatus?n:a}}]}],n=!0,i=!1,r=void 0;try{for(var o,s=u()(a);!(n=(o=s.next()).done);n=!0){var l=o.value;for(var d in l.input){var c=l.input[d];"btns"!==c.type&&c.data&&(l.form[c.data]=c.default||"")}}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return{reviewNum:{active:0,max:99},model:a,checkout:[]}},computed:l()({},Object(p.c)(["pageModel"]),{storage:function(){return"portalmgr"+this.$route.path},dataConfig:function(){var t=this.reviewNum.active;return this.model[t]}}),methods:l()({},Object(p.b)(["registered","registeredAudit"]),{setDateAttr:function(t){},resetFilter:function(){var t=this;for(var e in this.dataConfig.input){var a=this.dataConfig.input[e];this.dataConfig.form[a.data]=a.default||""}this.getOrgData().then(function(e){t.dataConfig.allTotal=e.content.total})},filterOrg:function(){this.dataConfig.page=1,this.getOrgData()},tabState:function(t){var e=this;this.reviewNum.active=t,this.getOrgData().then(function(t){e.dataConfig.allTotal=t.content.total})},readStorage:function(){var t=sessionStorage.getItem(this.storage);return!!t&&(t=JSON.parse(t),this.reviewNum.active=t.id,this.dataConfig.form=t.data.form,this.dataConfig.page=t.data.page,this.dataConfig.size=t.data.size,this.getOrgData(),t)},toDateTime:function(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n,t=(t=e.getDate())<10?"0"+t:t;var i=e.getHours();i=i<10?"0"+i:i;var r=e.getMinutes();r=r<10?"0"+r:r;var o=e.getSeconds();return a+"-"+n+"-"+t+" "+i+":"+r+":"+(o=o<10?"0"+o:o)},getOrgData:function(t){var e=this,a=t||this.dataConfig,n={size:a.size,page:a.page,orgInfoTypeId:a.check,auditStatus:a.auditStatus};for(var r in a.form){var s=a.form[r];n[r]=s}var l=a.form.date;if(l.length&&l[0]){var d=new Date(l[1]).toLocaleDateString()+" 23:59:59";n.dateStart=this.toDateTime(l[0]),n.dateEnd=this.toDateTime(d)}return this.dataConfig.form.date=[n.dateStart,n.dateEnd],this.registered(n).then(function(t){e.initTable(t.content);var a={id:e.reviewNum.active,data:e.dataConfig};return sessionStorage.setItem(e.storage,o()(a)),i.a.resolve(t)},function(t){return i.a.reject(res)})},initTable:function(t){this.dataConfig.size=t.size,this.dataConfig.page=t.page,this.dataConfig.data=t.records,this.dataConfig.total=t.total},linkData:function(t,e){var a="/ZCSH002/page/"+t.id+"/"+t.userId;e&&(a+="?review=1"),this.$router.push(a)},checkTable:function(t){this.checkout=t},setPage:function(t){this.dataConfig.page=t,this.getOrgData()},setpageSize:function(t){this.dataConfig.size=t,this.getOrgData()}}),created:function(){this.readStorage()||this.getOrgData()}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-tool-bar",{staticClass:"title--bg",attrs:{title:"企业审核"}},[a("span",{attrs:{slot:"content"},slot:"content"},[a("strong",{staticClass:"help"},[t._v("说明")]),t._v(" "),a("p",[t._v("\n          无\n          ")])])]),t._v(" "),a("div",{staticClass:"page-container"},[a("div",{staticClass:"head-tab"},t._l(t.model,function(e,n){return a("a",{key:n,staticClass:"head-tab_btn",class:n===t.reviewNum.active?"active":"",on:{click:function(e){t.tabState(n)}}},[t._v(" "+t._s(e.name)+" \n          ")])})),t._v(" "),a("div",{staticClass:"head-filter"},[a("Row",{attrs:{type:"flex",gutter:16}},t._l(t.dataConfig.input,function(e){return a("Col",{key:e.index,attrs:{span:"4"}},["select"===e.type?a("Select",{attrs:{placeholder:e.name},model:{value:t.dataConfig.form[e.data],callback:function(a){t.$set(t.dataConfig.form,e.data,a)},expression:"dataConfig.form[val.data]"}},t._l(e.options,function(e,n){return a("Option",{key:e.index,attrs:{value:n}},[t._v(t._s(e))])})):"date"===e.type?a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placement:"bottom-end",placeholder:e.name},model:{value:t.dataConfig.form[e.data],callback:function(a){t.$set(t.dataConfig.form,e.data,a)},expression:"dataConfig.form[val.data]"}}):"input"===e.type?a("Input",{attrs:{placeholder:e.name},model:{value:t.dataConfig.form[e.data],callback:function(a){t.$set(t.dataConfig.form,e.data,a)},expression:"dataConfig.form[val.data]"}}):"btns"===e.type?a("div",{staticClass:"list-inline"},t._l(e.cells,function(e){return a("span",{key:e.index},["set"===e.type?a("Button",{attrs:{type:"primary"}},[t._v(t._s(e.name))]):"filter"===e.type?a("Button",{attrs:{type:"primary"},on:{click:t.filterOrg}},[t._v(t._s(e.name))]):"reset"===e.type?a("Button",{attrs:{type:"primary"},on:{click:t.resetFilter}},[t._v(t._s(e.name))]):t._e()],1)})):t._e()],1)}))],1),t._v(" "),a("Table",{ref:"selection",staticClass:"table",attrs:{border:"",columns:t.dataConfig.columns,data:t.dataConfig.data},on:{"on-select":t.checkTable,"on-select-all":t.checkTable,"on-select-cancel":t.checkTable}}),t._v(" "),a("Page",{attrs:{total:t.dataConfig.total,"show-elevator":"","show-total":"","show-sizer":"",current:t.dataConfig.page,"page-size":t.dataConfig.size,"page-size-opts":t.dataConfig.pageSizeArr},on:{"on-change":t.setPage,"on-page-size-change":t.setpageSize}})],1)],1)},staticRenderFns:[]};var m=a("VU/8")(f,g,!1,function(t){a("I1iz")},null,null);e.default=m.exports}});